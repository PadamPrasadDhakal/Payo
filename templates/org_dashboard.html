{% extends "base.html" %}
{% block content %}
<section class="relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary to-purple-500 text-white p-10 shadow-lg">
  <div class="relative z-10">
    <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight mb-4">Welcome, {{ user.organization_name|default:user.username }}!</h1>
    <p class="text-white/90 text-lg md:text-xl max-w-2xl mb-8">This is your organization dashboard. Track your job postings and applications here.</p>
    <div class="flex flex-wrap gap-3">
      <a class="px-5 py-3 rounded-lg bg-white text-primary font-semibold shadow hover:shadow-md hover:-translate-y-0.5 transition" href="/jobs/post/">Post a Job or Internship</a>
    </div>
  </div>
  <div class="absolute -right-10 -bottom-10 w-72 h-72 bg-white/20 rounded-full blur-2xl animate-pulse"></div>
  <div class="absolute -left-10 -top-10 w-72 h-72 bg-black/10 rounded-full blur-2xl animate-ping"></div>
</section>

<section class="mt-10">
  <div class="p-6 bg-white rounded-xl shadow hover:shadow-md transition mb-6">
    <h3 class="font-bold text-lg mb-2">Jobs Posted: <span class="text-primary">{{ job_count }}</span></h3>
  </div>
  <div class="p-6 bg-white rounded-xl shadow hover:shadow-md transition">
    <h3 class="font-bold text-lg mb-4">Applications per Job</h3>
    <table class="min-w-full divide-y divide-gray-200">
      <thead>
        <tr>
          <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Job Title</th>
          <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Applications</th>
        </tr>
      </thead>
      <tbody>
        {% for job, app_count in applications_by_job.items %}
        <tr class="border-b">
          <td class="px-4 py-2">{{ job.title }}</td>
          <td class="px-4 py-2">{{ app_count }}</td>
        </tr>
        {% empty %}
        <tr><td colspan="2" class="px-4 py-2 text-gray-400">No jobs posted yet.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</section>
{% endblock %}
